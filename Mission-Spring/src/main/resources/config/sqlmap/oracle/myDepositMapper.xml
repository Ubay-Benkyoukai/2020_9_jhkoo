<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mydeposit.dao.MyDepositDAO">

	<resultMap type="myDepositVO" id="myDepositMap">
		<result column="account_number" property="accountNumber" />
  		<result column="deposit_money" property="depositMoney" />
  	</resultMap>

	<!-- 내 계좌에 입금 내역 남기기 -->
	<insert id="addMyDepositLog" parameterType="myDepositVO">
		INSERT INTO mydeposit_manage
		(account_number, balance, content, deposit_money)
		VALUES( #{accountNumber},
				#{balance},
				#{content},
				#{depositMoney}
		)
	</insert>

	<!--  내 계좌 잔액 업데이트. 입금 -->
  	<update id="updateBalance" parameterType="myDepositVO">
  		UPDATE mydeposit_manage
  		 SET
  		  balance = balance + #{depositMoney}
  		 WHERE account_number = #{accountNumber}
  	</update>


	<!-- 내역 리스트 조회 -->
	<select id="getinfo" parameterType="String"
		resultType="mydepositVO">
		SELECT account_number, content, deposit_money
		FROM mydeposit_manage
		WHERE id = #{accountNumber}

	</select>

	
</mapper>

